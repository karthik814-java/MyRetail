2020-04-24 00:44:40.650  INFO 84435 --- [restartedMain] c.m.c.product.ws.ProductWsApplication    : No active profile set, falling back to default profiles: default
2020-04-24 00:44:41.108  INFO 84435 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2020-04-24 00:44:41.120  INFO 84435 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 1 MongoDB repository interfaces.
2020-04-24 00:44:41.182  INFO 84435 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b07b8a1b-32bb-3a0e-b91e-bc65d3d608ec
2020-04-24 00:44:41.219  INFO 84435 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a0f92e70] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-04-24 00:44:41.309  INFO 84435 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-04-24 00:44:41.310  INFO 84435 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-04-24 00:44:41.310  INFO 84435 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]
2020-04-24 00:44:41.319  INFO 84435 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-04-24 00:44:41.319  INFO 84435 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 666 ms
2020-04-24 00:44:41.361  WARN 84435 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-04-24 00:44:41.361  INFO 84435 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-04-24 00:44:41.361  INFO 84435 --- [restartedMain] c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@4835eea8
2020-04-24 00:44:41.392  INFO 84435 --- [restartedMain] o.s.c.ehcache.EhCacheManagerFactoryBean  : Initializing EhCache CacheManager
2020-04-24 00:44:41.397  WARN 84435 --- [restartedMain] n.sf.ehcache.config.CacheConfiguration   : Configuration problem for cache productPriceCache: MaxEntriesLocalHeap equal or greater than MaxEntriesLocalDisk. This will result in useless disk storage.
2020-04-24 00:44:42.376  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2020-04-24 00:44:42.392  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] MongoDB starting : pid=84451 port=52444 dbpath=/var/folders/_9/8xs46b8j5x5b563tjyzdpl_9953q4h/T/embedmongo-db-6b36e4ee-ed9e-414a-88a1-1f974c6f33f4 64-bit host=A4370406
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] db version v3.5.5
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] git version: 98515c812b6fa893613f063dae568ff8319cbfbd
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] allocator: system
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] modules: none
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] build environment:
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten]     distarch: x86_64
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten]     target_arch: x86_64
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.392-0700 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 52444 }, security: { authorization: "disabled" }, storage: { dbPath: "/var/folders/_9/8xs46b8j5x5b563tjyzdpl_9953q4h/T/embedmongo-db-6b36e4ee-ed9e-414a-88a1-1f974c6f33f4", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2020-04-24 00:44:42.393  INFO 84435 --- [Thread-28] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:44:42.393-0700 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=7680M,session_max=20000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),verbose=(recovery_progress),,log=(enabled=false),
2020-04-24 00:45:28.514  INFO 84457 --- [restartedMain] c.m.c.product.ws.ProductWsApplication    : No active profile set, falling back to default profiles: default
2020-04-24 00:45:29.536  INFO 84457 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2020-04-24 00:45:29.609  INFO 84457 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67ms. Found 1 MongoDB repository interfaces.
2020-04-24 00:45:29.709  WARN 84457 --- [restartedMain] o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID 'hystrix.stream' contains invalid characters, please migrate to a valid format.
2020-04-24 00:45:29.827  INFO 84457 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b07b8a1b-32bb-3a0e-b91e-bc65d3d608ec
2020-04-24 00:45:30.126  INFO 84457 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a787ee10] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-04-24 00:45:30.606  INFO 84457 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-04-24 00:45:30.617  INFO 84457 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-04-24 00:45:30.617  INFO 84457 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]
2020-04-24 00:45:30.712  INFO 84457 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-04-24 00:45:30.712  INFO 84457 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2180 ms
2020-04-24 00:45:30.834  WARN 84457 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-04-24 00:45:30.834  INFO 84457 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-04-24 00:45:30.844  INFO 84457 --- [restartedMain] c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@158a6cec
2020-04-24 00:45:30.907  INFO 84457 --- [restartedMain] o.s.c.ehcache.EhCacheManagerFactoryBean  : Initializing EhCache CacheManager
2020-04-24 00:45:30.999  WARN 84457 --- [restartedMain] n.sf.ehcache.config.CacheConfiguration   : Configuration problem for cache productPriceCache: MaxEntriesLocalHeap equal or greater than MaxEntriesLocalDisk. This will result in useless disk storage.
2020-04-24 00:45:32.130  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : note: noprealloc may hurt performance in many applications
2020-04-24 00:45:32.147  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.146-0700 I CONTROL  [initandlisten] MongoDB starting : pid=84458 port=52501 dbpath=/var/folders/_9/8xs46b8j5x5b563tjyzdpl_9953q4h/T/embedmongo-db-e4ca129e-327b-4d89-8f81-7c6cdfe8ae13 64-bit host=A4370406
2020-04-24 00:45:32.147  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten] db version v3.5.5
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten] git version: 98515c812b6fa893613f063dae568ff8319cbfbd
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten] allocator: system
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten] modules: none
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten] build environment:
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten]     distarch: x86_64
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten]     target_arch: x86_64
2020-04-24 00:45:32.148  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.147-0700 I CONTROL  [initandlisten] options: { net: { bindIp: "127.0.0.1", http: { enabled: false }, port: 52501 }, security: { authorization: "disabled" }, storage: { dbPath: "/var/folders/_9/8xs46b8j5x5b563tjyzdpl_9953q4h/T/embedmongo-db-e4ca129e-327b-4d89-8f81-7c6cdfe8ae13", journal: { enabled: false }, mmapv1: { preallocDataFiles: false, smallFiles: true }, syncPeriodSecs: 0.0 } }
2020-04-24 00:45:32.149  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.148-0700 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=7680M,session_max=20000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),checkpoint=(wait=0,log_size=2GB),statistics_log=(wait=0),verbose=(recovery_progress),,log=(enabled=false),
2020-04-24 00:45:32.381  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.381-0700 W STORAGE  [initandlisten] Detected configuration for non-active storage engine mmapv1 when current storage engine is wiredTiger
2020-04-24 00:45:32.381  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.381-0700 I CONTROL  [initandlisten] 
2020-04-24 00:45:32.381  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.381-0700 I CONTROL  [initandlisten] ** NOTE: This is a development version (3.5.5) of MongoDB.
2020-04-24 00:45:32.382  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.381-0700 I CONTROL  [initandlisten] **       Not recommended for production.
2020-04-24 00:45:32.382  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.381-0700 I CONTROL  [initandlisten] 
2020-04-24 00:45:32.474  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.474-0700 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/var/folders/_9/8xs46b8j5x5b563tjyzdpl_9953q4h/T/embedmongo-db-e4ca129e-327b-4d89-8f81-7c6cdfe8ae13/diagnostic.data'
2020-04-24 00:45:32.631  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.631-0700 I INDEX    [initandlisten] build index on: admin.system.version properties: { v: 2, key: { version: 1 }, name: "incompatible_with_version_32", ns: "admin.system.version" }
2020-04-24 00:45:32.632  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.631-0700 I INDEX    [initandlisten] 	 building index using bulk method; build may temporarily use up to 500 megabytes of RAM
2020-04-24 00:45:32.646  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.646-0700 I INDEX    [initandlisten] build index done.  scanned 0 total records. 0 secs
2020-04-24 00:45:32.646  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.646-0700 I COMMAND  [initandlisten] setting featureCompatibilityVersion to 3.4
2020-04-24 00:45:32.647  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.646-0700 I NETWORK  [thread1] waiting for connections on port 52501
2020-04-24 00:45:32.647  INFO 84457 --- [restartedMain] d.f.embed.mongo.MongodExecutable         : start de.flapdoodle.embed.mongo.config.MongodConfigBuilder$ImmutableMongodConfig@2548e2f9
2020-04-24 00:45:32.818  INFO 84457 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:52501], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-04-24 00:45:32.818  INFO 84457 --- [restartedMain] org.mongodb.driver.cluster               : Adding discovered server localhost:52501 to client view of cluster
2020-04-24 00:45:32.856  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.856-0700 I NETWORK  [thread1] connection accepted from 127.0.0.1:52504 #1 (1 connection now open)
2020-04-24 00:45:32.866  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:32.866-0700 I NETWORK  [conn1] received client metadata from 127.0.0.1:52504 conn1: { driver: { name: "mongo-java-driver|legacy", version: "3.11.2" }, os: { type: "Darwin", name: "Mac OS X", architecture: "x86_64", version: "10.12.6" }, platform: "Java/Oracle Corporation/1.8.0_131-b11" }
2020-04-24 00:45:32.880  INFO 84457 --- [cluster-ClusterId{value='5ea2991cee602345518c61e6', description='null'}-localhost:52501] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:52501
2020-04-24 00:45:32.883  INFO 84457 --- [cluster-ClusterId{value='5ea2991cee602345518c61e6', description='null'}-localhost:52501] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:52501, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 5, 5]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=1185274}
2020-04-24 00:45:32.884  INFO 84457 --- [cluster-ClusterId{value='5ea2991cee602345518c61e6', description='null'}-localhost:52501] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE
2020-04-24 00:45:33.407  INFO 84457 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-04-24 00:45:34.224  INFO 84457 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-04-24 00:45:34.307  INFO 84457 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-04-24 00:45:34.408  WARN 84457 --- [restartedMain] o.s.c.n.a.ArchaiusAutoConfiguration      : No spring.application.name found, defaulting to 'application'
2020-04-24 00:45:34.408  WARN 84457 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-04-24 00:45:34.408  INFO 84457 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-04-24 00:45:34.586  INFO 84457 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-04-24 00:45:34.930  INFO 84457 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-04-24 00:45:34.948  INFO 84457 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-04-24 00:45:34.987  INFO 84457 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-04-24 00:45:35.323  INFO 84457 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-04-24 00:45:35.327  INFO 84457 --- [restartedMain] c.m.c.product.ws.ProductWsApplication    : Started ProductWsApplication in 7.584 seconds (JVM running for 8.436)
2020-04-24 00:45:35.362 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Remove using query: {} in collection: price.
2020-04-24 00:45:35.379  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:35.379-0700 I NETWORK  [thread1] connection accepted from 127.0.0.1:52505 #2 (2 connections now open)
2020-04-24 00:45:35.380  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:35.379-0700 I NETWORK  [conn2] received client metadata from 127.0.0.1:52505 conn2: { driver: { name: "mongo-java-driver|legacy", version: "3.11.2" }, os: { type: "Darwin", name: "Mac OS X", architecture: "x86_64", version: "10.12.6" }, platform: "Java/Oracle Corporation/1.8.0_131-b11" }
2020-04-24 00:45:35.382  INFO 84457 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:52501
2020-04-24 00:45:35.418 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, currencyCode, price, _class]
2020-04-24 00:45:35.535  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:35.535-0700 I WRITE    [conn2] update test.price query: { _id: 13860428 } planSummary: IDHACK update: { _id: 13860428, currencyCode: "USD", price: "13.49", _class: "com.myretail.catalog.product.ws.model.Price" } keysExamined:0 docsExamined:0 nMatched:0 nModified:0 upsert:1 keysInserted:1 numYields:0 locks:{ Global: { acquireCount: { r: 3, w: 3 } }, Database: { acquireCount: { w: 2, W: 1 } }, Collection: { acquireCount: { w: 2 } } } 110ms
2020-04-24 00:45:35.535  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:45:35.535-0700 I COMMAND  [conn2] command test.$cmd command: update { update: "price", ordered: true, updates: [ { q: { _id: 13860428 }, u: { _id: 13860428, currencyCode: "USD", price: "13.49", _class: "com.myretail.catalog.product.ws.model.Price" }, upsert: true } ] } numYields:0 reslen:106 locks:{ Global: { acquireCount: { r: 3, w: 3 } }, Database: { acquireCount: { w: 2, W: 1 } }, Collection: { acquireCount: { w: 2 } } } protocol:op_query 110ms
2020-04-24 00:45:35.538 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, currencyCode, price, _class]
2020-04-24 00:45:35.539 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, currencyCode, price, _class]
2020-04-24 00:45:35.541 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, currencyCode, price, _class]
2020-04-24 00:45:35.543 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, currencyCode, price, _class]
2020-04-24 00:45:35.544 DEBUG 84457 --- [restartedMain] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, currencyCode, price, _class]
2020-04-24 00:45:37.225  INFO 84457 --- [RMI TCP Connection(1)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-04-24 00:45:37.226  INFO 84457 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-04-24 00:45:37.234  INFO 84457 --- [RMI TCP Connection(1)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-04-24 00:45:42.150  INFO 84457 --- [http-nio-8080-exec-1] c.m.c.p.ws.resource.v1.ProductResource   : Retrieve product details for id :: 164835893
2020-04-24 00:45:42.365 DEBUG 84457 --- [hystrix-GetProductPriceCommand-1] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "id" : { "$numberLong" : "164835893"}} fields: Document{{}} for class: class com.myretail.catalog.product.ws.model.Price in collection: price
2020-04-24 00:45:42.372 DEBUG 84457 --- [hystrix-GetProductPriceCommand-1] o.s.data.mongodb.core.MongoTemplate      : findOne using query: { "_id" : { "$numberLong" : "164835893"}} fields: {} in db.collection: test.price
2020-04-24 00:45:42.627 ERROR 84457 --- [hystrix-ProductDetailCommand-1] c.m.c.p.w.c.ProductDetailServiceClient   : Exception occured while invoking Redsky API for product name {} : 

org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [{"product":{"item":{}}}]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:342) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at com.myretail.catalog.product.ws.client.ProductDetailServiceClient.getProductDetails(ProductDetailServiceClient.java:60) ~[classes/:na]
	at com.myretail.catalog.product.ws.circuit.ProductDetailCommand.run(ProductDetailCommand.java:24) [classes/:na]
	at com.myretail.catalog.product.ws.circuit.ProductDetailCommand.run(ProductDetailCommand.java:1) [classes/:na]
	at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302) [hystrix-core-1.5.18.jar:1.5.18]
	at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298) [hystrix-core-1.5.18.jar:1.5.18]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.Observable.unsafeSubscribe(Observable.java:10327) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35) [rxjava-1.3.8.jar:1.3.8]
	at rx.Observable.unsafeSubscribe(Observable.java:10327) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.Observable.unsafeSubscribe(Observable.java:10327) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100) [rxjava-1.3.8.jar:1.3.8]
	at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56) [hystrix-core-1.5.18.jar:1.5.18]
	at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47) [hystrix-core-1.5.18.jar:1.5.18]
	at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69) [hystrix-core-1.5.18.jar:1.5.18]
	at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55) [rxjava-1.3.8.jar:1.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_131]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2020-04-24 00:45:42.627  INFO 84457 --- [hystrix-ProductDetailCommand-1] c.m.c.p.w.c.ProductDetailServiceClient   : ---------- Response Status 500 INTERNAL_SERVER_ERROR - body: true
2020-04-24 00:45:42.634 ERROR 84457 --- [hystrix-ProductDetailCommand-1] c.p.w.s.i.ProductOrchestratorServiceImpl : Product price not found for the given product id : 164835893
2020-04-24 00:46:29.551  INFO 84457 --- [http-nio-8080-exec-3] c.m.c.p.ws.resource.v1.ProductResource   : Retrieve product details for id :: 164835893
2020-04-24 00:46:29.628 ERROR 84457 --- [hystrix-ProductDetailCommand-2] c.m.c.p.w.c.ProductDetailServiceClient   : Exception occured while invoking Redsky API for product name {} : 

org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [{"product":{"item":{}}}]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:342) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]
	at com.myretail.catalog.product.ws.client.ProductDetailServiceClient.getProductDetails(ProductDetailServiceClient.java:60) ~[classes/:na]
	at com.myretail.catalog.product.ws.circuit.ProductDetailCommand.run(ProductDetailCommand.java:24) [classes/:na]
	at com.myretail.catalog.product.ws.circuit.ProductDetailCommand.run(ProductDetailCommand.java:1) [classes/:na]
	at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302) [hystrix-core-1.5.18.jar:1.5.18]
	at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298) [hystrix-core-1.5.18.jar:1.5.18]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.Observable.unsafeSubscribe(Observable.java:10327) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35) [rxjava-1.3.8.jar:1.3.8]
	at rx.Observable.unsafeSubscribe(Observable.java:10327) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30) [rxjava-1.3.8.jar:1.3.8]
	at rx.Observable.unsafeSubscribe(Observable.java:10327) [rxjava-1.3.8.jar:1.3.8]
	at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100) [rxjava-1.3.8.jar:1.3.8]
	at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56) [hystrix-core-1.5.18.jar:1.5.18]
	at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47) [hystrix-core-1.5.18.jar:1.5.18]
	at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69) [hystrix-core-1.5.18.jar:1.5.18]
	at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55) [rxjava-1.3.8.jar:1.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_131]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2020-04-24 00:46:29.629  INFO 84457 --- [hystrix-ProductDetailCommand-2] c.m.c.p.w.c.ProductDetailServiceClient   : ---------- Response Status 500 INTERNAL_SERVER_ERROR - body: true
2020-04-24 00:46:29.630 ERROR 84457 --- [hystrix-ProductDetailCommand-2] c.p.w.s.i.ProductOrchestratorServiceImpl : Product price not found for the given product id : 164835893
2020-04-24 00:48:38.049  INFO 84457 --- [Thread-14] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-04-24 00:48:38.061  INFO 84457 --- [Thread-14] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:52501 because the pool has been closed.
2020-04-24 00:48:38.062  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.062-0700 I -        [conn2] end connection 127.0.0.1:52505 (2 connections now open)
2020-04-24 00:48:38.062  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.062-0700 I -        [conn1] end connection 127.0.0.1:52504 (1 connection now open)
2020-04-24 00:48:38.063  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.063-0700 I NETWORK  [thread1] connection accepted from 127.0.0.1:52703 #3 (1 connection now open)
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I COMMAND  [conn3] terminating, shutdown command received
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I NETWORK  [conn3] shutdown: going to close listening sockets...
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I NETWORK  [conn3] closing listening socket: 7
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I NETWORK  [conn3] closing listening socket: 8
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I NETWORK  [conn3] removing socket file: /tmp/mongodb-52501.sock
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I NETWORK  [conn3] shutdown: going to flush diaglog...
2020-04-24 00:48:38.064  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.064-0700 I FTDC     [conn3] Shutting down full-time diagnostic data capture
2020-04-24 00:48:38.068  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.068-0700 I STORAGE  [conn3] WiredTigerKVEngine shutting down
2020-04-24 00:48:38.201  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.201-0700 I STORAGE  [conn3] shutdown: removing fs lock...
2020-04-24 00:48:38.201  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.201-0700 I CONTROL  [conn3] now exiting
2020-04-24 00:48:38.201  INFO 84457 --- [Thread-12] o.s.b.a.mongo.embedded.EmbeddedMongo     : 2020-04-24T00:48:38.201-0700 I CONTROL  [conn3] shutting down with code:0
2020-04-24 00:48:38.318  INFO 84457 --- [Thread-14] o.s.c.ehcache.EhCacheManagerFactoryBean  : Shutting down EhCache CacheManager
